# RISC-V Assembler and Simulator

This project is a custom-built **assembler and simulator** for a subset of the **RV32I (RISC-V)** instruction set, developed as part of a Computer Organization course.

## ğŸš€ Features

- Supports major RV32I instruction formats: **R, I, S, B, U, J**
- Translates assembly code into 32-bit machine code (assembler)
- Simulates instruction execution with **register and memory state tracking**
- Handles labels, branching, stack operations, and I/O via formatted files
- Implements detailed **error reporting** for invalid instructions and syntax

## ğŸ“¦ How to Run

1. **Assembler**
   - Input: Assembly program (`input.txt`)
   - Output: Binary machine code (`output.txt`)
   - Run:  
     ```bash
     python Assembler.py <input_file> <output_file>
     ```

2. **Simulator**
   - Input: Binary output from assembler (`output.txt`)
   - Output: Register and memory states (`trace.txt`)
   - Run:  
     ```bash
     python Simulator.py <input_file> <output_file>
     ```

## ğŸ§ª Test Using Built-in Grader

File structuring for running grader:

```
evaluate/
â”œâ”€â”€ automatedTesting/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main.py            â† run this to test everything
â”‚   â”‚   â”œâ”€â”€ AsmGrader.py
â”‚   â”‚   â”œâ”€â”€ SimGrader.py
â”‚   â”‚   â”œâ”€â”€ Results.py
â”‚   â”‚   â”œâ”€â”€ Grader.py
â”‚   â”‚   â”œâ”€â”€ Colors.py
â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â”œâ”€â”€ assembly/          â† assembler test content
â”‚   â”‚   â”‚   â”œâ”€â”€ bin_h/         â† Contains correct machine code files corresponding to the programs in hardBin/
â”‚   â”‚   â”‚   â”œâ”€â”€ bin_s/         â† Contains correct machine code files corresponding to the assembly programs in simpleBin/
â”‚   â”‚   â”‚   â”œâ”€â”€ errorGen/      â† Contains intentionally incorrect assembly files to test error handling
â”‚   â”‚   â”‚   â”œâ”€â”€ hardBin/       â† Contains more complex or edge-case assembly tests
â”‚   â”‚   â”‚   â”œâ”€â”€ simpleBin/     â† Contains simple test cases in assembly language
â”‚   â”‚   â”‚   â”œâ”€â”€ user_bin_s/    â† machine code created by user's Assembler for simpleBin
â”‚   â”‚   â”‚   â”œâ”€â”€ user_bin_h/    â† machine code created by user's Assembler for hardBin
â”‚   â”‚   â”œâ”€â”€ bin/               â† Input for Simulator
â”‚   â”‚   â”‚   â”œâ”€â”€ simple/        
â”‚   â”‚   â”‚   â”œâ”€â”€ hard/          
â”‚   â”‚   â”œâ”€â”€ traces/            â† Contains correct simulator traces
â”‚   â”‚   â”‚   â”œâ”€â”€ simple/        
â”‚   â”‚   â”‚   â”œâ”€â”€ hard/          
â”‚   â”‚   â”œâ”€â”€ user_traces/       â† traces generated by the user's simulator
â”‚   â”‚   â”‚   â”œâ”€â”€ simple/        
â”‚   â”‚   â”‚   â”œâ”€â”€ hard/          
â”œâ”€â”€ SimpleAssembler/
â”‚   â””â”€â”€ Assembler.py   â† your assembler script(file name should be like this)
â”œâ”€â”€ SimpleSimulator/
â”‚   â””â”€â”€ Simulator.py   â† your simulator script(file name should be like this)
```

### âš™ï¸ Run Assembler Tests

Linux:
```bash
python3 src/main.py --no-sim --linux
```
Windows:
```bash
python3 src\main.py --no-sim --windows
```

**Input/Output Format**

Your assembler should:
- Take: an input assembly file (.txt)
- Produce: an output machine code file (.txt)

Example command:
```bash
python3 Assembler.py path/to/input.txt path/to/output.txt
```

### âš™ï¸ Run Simulator Tests

Linux:
```bash
python3 src/main.py --no-asm --linux
```
Windows:
```bash
python3 src\main.py --no-asm --windows
```

**Input/Output Format**

Your simulator should:
- Take: a machine code file (.txt)
- Produce: a trace file (.txt)

Example command:
```bash
python3 Simulator.py path/to/machine_code.txt path/to/trace.txt
```