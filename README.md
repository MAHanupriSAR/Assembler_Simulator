# RISC-V Assembler and Simulator

This project is a custom-built **assembler and simulator** for a subset of the **RV32I (RISC-V)** instruction set, developed as part of a Computer Organization course.

## 🚀 Features

- Supports major RV32I instruction formats: **R, I, S, B, U, J**
- Translates assembly code into 32-bit machine code (assembler)
- Simulates instruction execution with **register and memory state tracking**
- Handles labels, branching, stack operations, and I/O via formatted files
- Implements detailed **error reporting** for invalid instructions and syntax

## 📦 How to Run

1. **Assembler**
   - Input: Assembly program (`input.txt`)
   - Output: Binary machine code (`output.txt`)
   - Run:  
     ```bash
     python Assembler.py <input_file> <output_file>
     ```

2. **Simulator**
   - Input: Binary output from assembler (`output.txt`)
   - Output: Register and memory states (`trace.txt`)
   - Run:  
     ```bash
     python Simulator.py <input_file> <output_file>
     ```

## 🧪 Test Using Built-in Grader

File structuring for running grader:

```
evaluate/
├── automatedTesting/
│   ├── src/
│   │   ├── main.py            ← run this to test everything
│   │   ├── AsmGrader.py
│   │   ├── SimGrader.py
│   │   ├── Results.py
│   │   ├── Grader.py
│   │   ├── Colors.py
│   ├── tests/
│   │   ├── assembly/          ← assembler test content
│   │   │   ├── bin_h/         ← Contains correct machine code files corresponding to the programs in hardBin/
│   │   │   ├── bin_s/         ← Contains correct machine code files corresponding to the assembly programs in simpleBin/
│   │   │   ├── errorGen/      ← Contains intentionally incorrect assembly files to test error handling
│   │   │   ├── hardBin/       ← Contains more complex or edge-case assembly tests
│   │   │   ├── simpleBin/     ← Contains simple test cases in assembly language
│   │   │   ├── user_bin_s/    ← machine code created by user's Assembler for simpleBin
│   │   │   ├── user_bin_h/    ← machine code created by user's Assembler for hardBin
│   │   ├── bin/               ← Input for Simulator
│   │   │   ├── simple/        
│   │   │   ├── hard/          
│   │   ├── traces/            ← Contains correct simulator traces
│   │   │   ├── simple/        
│   │   │   ├── hard/          
│   │   ├── user_traces/       ← traces generated by the user's simulator
│   │   │   ├── simple/        
│   │   │   ├── hard/          
├── SimpleAssembler/
│   └── Assembler.py   ← your assembler script(file name should be like this)
├── SimpleSimulator/
│   └── Simulator.py   ← your simulator script(file name should be like this)
```

### ⚙️ Run Assembler Tests

Linux:
```bash
python3 src/main.py --no-sim --linux
```
Windows:
```bash
python3 src\main.py --no-sim --windows
```

**Input/Output Format**

Your assembler should:
- Take: an input assembly file (.txt)
- Produce: an output machine code file (.txt)

Example command:
```bash
python3 Assembler.py path/to/input.txt path/to/output.txt
```

### ⚙️ Run Simulator Tests

Linux:
```bash
python3 src/main.py --no-asm --linux
```
Windows:
```bash
python3 src\main.py --no-asm --windows
```

**Input/Output Format**

Your simulator should:
- Take: a machine code file (.txt)
- Produce: a trace file (.txt)

Example command:
```bash
python3 Simulator.py path/to/machine_code.txt path/to/trace.txt
```